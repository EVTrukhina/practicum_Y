#  Разработка приложения Stets для умного дома

## Задача


## Процесс работы

### Анализ интервью

Провела анализ интервью с [заинтересованными лицами](https://docs.google.com/document/d/1z7ZkVg6m7pPShPeQIt89Gc2b0x6KT_bNbk2Yc8abUjU/edit?usp=sharing). Выделила из требований заказчика и пользователей функций, которые необходимы в первой итерации MVP.

<details>
  <summary>Обязательные функции MVP</summary>
  <ul>
    <li>Регистрация</li>
    <li>Авторизация / Аутентификация с помощью эл.почты и пароля</li>
    <li>Выход из учётной записи</li>
    <li>Восстановление пароля</li>
    <li>Замена эл.почты</li>
    <li>Добавление пользователя</li>
    <li>Добавление устройства через QR код</li>
    <li>Добавление устройства вручную</li>
    <li>Удаление устройства</li>
    <li>Выбор энергосберегающего режима</li>
    <li>Добавление комнаты</li>
    <li>Удаление комнаты</li>
    <li>Изменение данных комнаты</li>
    <li>Управление освещением</li>
    <li>Добавление устройства в комнату</li>
    <li>Удаление устройства из комнаты</li>
    <li>Управление всеми устройствами в комнате сразу</li>
    <li>Создание сценария автоматизации</li>
    <li>Запуск сценария автоматизации вручную</li>
    <li>Создание сценария с ручным запуском</li>
    <li>Создание сценария с автоматическим запуском</li>
    <li>Принудительный запуск сценария, с заданным расписанием</li>
    <li>Удаление сценария автоматизации</li>
  </ul>
</details>

### Карта пользовательских историй и MVP

Составила [User Story Map (USM)](https://miro.com/app/board/uXjVIciAY-8=/) для приложения умного дома, включающая User Stories, сформулированные в соответствии с принципами INVEST. Пользовательские истории, вошедшие в MVP, дополнены критериями и сценариями приемки, написанными на языке Gherkin.


### DFD контекстного и логического уровня

Процессы смоделированы с использованием диаграммы потоков данных (DFD).

![Обновленная диаграмма UML](https://github.com/EVTrukhina/practicum_Y/blob/main/DFD%20контекстная%20Stets.png)
<p align="center">Рис 1. DFD контекстного уровня </p>


![Обновленная диаграмма UML](https://github.com/EVTrukhina/practicum_Y/blob/main/DFD%20логическая%20Stets.png)
<p align="center">Рис 2. DFD логического уровня </p>


### Логическая ER-модель в 3 НФ

Смоделирована структура данных с использованием логической ER-диаграммы в нотации Crow's Foot (нотация Мартина).
![Обновленная диаграмма UML](https://github.com/EVTrukhina/practicum_Y/blob/main/ER-диаграмма.png)
<p align="center">Рис 3. Логическая ER-модель в 3НФ </p>

### Словарь данных
## Словарь данных

| Элемент данных | Описание | Состав или тип данных | Длина | Значения |
|---|---|---|---|---|
| **Пользователь** | Данные пользователя, указанные при регистрации |Электронная почта<br>+ Имя пользователя<br>+ Пароль пользователя |  |  |
| Электронная почта | Адрес электронной почты пользователя, предоставленный при регистрации. | Символьно-числовое значение | 100 | Должен содержать символ @ |
| Имя | Имя пользователя | Символьное значение | 60 |  |
| Пароль | Пароль пользователя, предоставленный при регистрации. Используется для аутентификации. | Символьно-числовое значение | 8-16 | Должен содержать минимум 1 строчную и 1 прописную букву латинского алфавита |
| **Дом** | Дом для управления | Код дома<br>+ Название дома<br>+ 1:10 {дом}<br>+ 1:10 {комнат}<br>+ 1:10 {сценариев}<br>+ 1:100 {устройств} |  |  |
| Код дома | Синтетический первичный ключ дома | Целое и положительное | 12 |  |
| Название дома | Название дома, задается пользователем | Символьное значение | 30 |  |
| Доступ к дому | Связывает пользователей с домами, определяя уровень доступа | Электронная почта + Код дома + Уровень доступа |  |  |
| Уровень доступа | Уровень прав пользователя | Символьное значение |  |  |
| **Комната** | Помещения различного типа | Код комнаты + Код дома + Код типа комнаты + Название комнаты |  |  |
| Код комнаты | Синтетический первичный ключ комнаты | Целое и положительное | 20 |  |
| Код типа комнаты | Синтетический первичный ключ типа комнаты | Целое и положительное | 20 |  |
| Название комнаты | Название комнаты, предлагаемое системой на основе выбранного типа комнаты “Спальня”, или заданное пользователем вручную | Символьно-числовое значение | 30 | Тип комнаты + цифра при повторе, или любое название |
| **Тип комнаты** |  | Код типа комнаты + Название типа комнаты + Иллюстрация комнаты |  |  |
| Код типа комнаты | Синтетический первичный ключ типа комнаты | Целое и положительное | 20 |  |
| Название типа комнаты | Типа комнат (например, “Тип: Спальня”). | Символьное значение | 30 |  |
| Иллюстрация комнаты | Изображение со значением типа комнаты | Файл |  | .img |
| **Устройство** | Устройства пользователя добавленные в приложение умного дома | ID устройства + Код модели устройства + Код дома + Код комнаты + Название устройства + Статус устройства + Статус режима энергосбережения + Цвет + Яркость |  |  |
| ID устройства | Уникальный 12-значный код для идентификации | Числовое значение | 12 |  |
| Код модели устройства | Уникальный код модели устройства | Символьно-числовое значение | 25 |  |
| Название устройства | Название устройства заданное пользователем | Символьное значение | 30 |  |
| Статус устройства | Состояние устройства | Символьное значение | 10 | Включено, не включено, недоступно |
| Статус режима энергосбережения | Статус режим энергосбережения для устройства | Символьное значение | 10 | Включено, не включено, недоступно |
| Цвет | Оттенок цвета | Символьно-числовое значение | 25 |  |
| Яркость | Интенсивность цвета | Числовое значение | 25 |  |
| **Модель устройства** | Информация о типе и характеристиках устройства | Код модели устройства + Код типа устройства |  |  |
| Код модели устройства | Уникальный код модели устройства | Символьно-числовое значение | 25 |  |
| Код типа устройства | Уникальный код типа устройства | Символьно-числовое значение | 25 |  |
| **Тип устройства** |  | Код типа устройства + Тип устройства |  |  |
| Код типа устройства | Уникальный код типа устройства | Символьно-числовое значение | 25 |  |
| Тип устройства | Информация о типе устройства (лампочка, розетка) | Символьное значение | 30 |  |
| **Сценарий** | Сценарии заданные пользователем для автоматизации управления умным домом | Код сценария + Код дома + Название сценария + Тип запуска + Время запуска + Дни недели + Статус сценария |  |  |
| Код сценария | Синтетический первичный ключ кода сценария | Целое и положительное | 12 |  |
| Название сценария | Название сценария присвоенное пользователем | Символьное значение | 30 |  |
| Тип запуска | Тип запуска: ручной или автоматический | Символьное значение | 30 |  |
| Время запуска | Время начала сценария | Время ЧЧ:MM |  |  |
| Дни недели | Дни недели в которые должен срабатывать сценарий автоматизации | Символьное значение |  |  |
| Статус сценария | Состояние сценария | Символьное значение | 10 | Не включен, включен, завершен, недоступен |
| **Сценарий устройство** |  | Код сценария + ID устройства + Статус устройства |  |  |
| Код сценария | Синтетический первичный ключ кода сценария | Целое и положительное |  |  |
| ID устройства | Уникальный 12-значный код для идентификации | Числовое значение | 12 |  |
| Статус устройства | Состояние устройства | Символьное значение | 10 | Включено, не включено, недоступно |
| **День недели в сценарии** | Связывает сценарии с днями недели | Код сценария + Код дня недели + Код дома |  |  |
| Код сценария | Синтетический первичный ключ кода сценария | Целое и положительное | 12 |  |
| Код дня недели | Синтетический первичный ключ кода дня недели | Целое и положительное | 12 |  |
| Код дома | Синтетический первичный ключ дома | Целое и положительное | 12 |  |
| **День недели** | Дни недели для запуска сценариев | Код дня недели + Название дня недели |  |  |
| Код дня недели | Синтетический первичный ключ дня недели | Целое и положительное | 12 |  |
| Название дня недели | День недели для выбора запуска сценария | Символьное значение | 15 | Пн, Вт, Ср, Чт, Пт, Сб, Вс |
| **Код подтверждения** |  | Код + Тип кода + Электронная почта (новая) + Дата и время создания + Дата и время истечения |  |  |
| Код подтверждения | Синтетический первичный ключ кода сценария | Целое и положительное | 12 |  |
| Тип кода | Тип кода: восстановление пароля или замена email | Символьное значение | 30 |  |
| Электронная почта (новая) | Электронный адрес, который пользователь пытается установить | Символьно-числовое значение | 100 | Должен содержать символ @ |
| Дата и время создания | Дата и время, когда был сгенерирован код подтверждения | Дата, время, дд.мм.гггг чч:мм |  |  |
| Дата и время истечения | Дата и время, когда код подтверждения становится недействительным | Дата, время, дд.мм.гггг чч:мм |  |  |

